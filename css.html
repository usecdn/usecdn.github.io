<!DOCTYPE HTML>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width,minimum-scale=1,initial-scale=1'>
    <meta name='theme-color' content='#ffffff'>
    <title>CSS Architecture for Modern JavaScript Applications — Rizky Saskia Putra</title>
    <link rel='canonical' href='./css.html'/>
    <meta name='description' content='Think, Find, Make and Repeat.'/>
    <meta property='og:locale' content='en'/>
    <meta property='og:type' content='website'/>
    <meta property='og:title' content='Rizky Saskia Putra'/>
    <meta property='og:description' content='Think, Find, Make and Repeat.'/>
    <meta property='og:url' content='https://rizkysaskiaputra.github.io/'/>
    <meta property='og:site_name' content='Rizky Saskia Putra'/>
    <meta name='google-signin-scope' content='profile email'/>
    <meta name='google-signin-client_id' content='38400672337-4mcdcpo146d8oh3p1ke8oq4iibn4d3hm.apps.googleusercontent.com'/>
    <link rel='preconnect' href='https://www.gstatic.com' crossorigin='anonymous'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin='anonymous'>
    <link rel='preconnect' href='https://fonts.googleapis.com' crossorigin='anonymous'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Gelasio:400,400i,500%7CRoboto:400%7CRoboto+Mono:400%7CMaterial+Icons&display=swap'>
    <link rel='shortcut icon' href='./favicon.ico'>
    <link rel='apple-touch-icon' href='./img/apple-touch-icon.png'>
    <link rel='manifest' href='./manifest.json'>
    <link rel='stylesheet' href='./css/style.css'>
    <script>(function(){function f(){document.documentElement.classList.add("dark");g.setAttribute("content","#000000");localStorage.setItem("theme","dark")}function h(){document.documentElement.classList.remove("dark");g.setAttribute("content","#ffffff");localStorage.removeItem("theme")}function c(){document.documentElement.classList.remove("js");document.documentElement.classList.add("js-loading")}var b=localStorage.getItem("theme"),g=document.querySelector('meta[name="theme-color"]');try{switch(b){case "dark":f();break;default:h()}}catch(a){throw new SyntaxError("There was a problem reading local data");}b=function(a){for(var d=window.location.search.substring(1).split("&"),e=0;e<d.length;e++){var k=d[e].split("=");if(k[0]==a)return k[1]}return!1}("theme");"dark"===b&&setTimeout(function(){return f()},0);"light"===b&&setTimeout(function(){return h()},0);window.parent.frames[0]!=window.self&&c();document.addEventListener("readystatechange",function(a){try{"interactive"===a.target.readyState?c():"complete"===a.target.readyState&&(document.documentElement.classList.add("js"),document.documentElement.classList.remove("js-loading"))}catch(d){throw new SyntaxError("The page not be loaded");}});window.addEventListener("beforeunload",c)})()</script>
</head>
<body data-layout='article'>
    <a class='skip-to-content' href='#main'>Skip to main content</a>
    <svg aria-hidden='true' display='none' height='0' width='0' xmlns='http://www.w3.org/2000/svg'>
        <symbol id='logo' viewBox='0 0 23.77 23.77'>
            <g fill-rule='evenodd'><path d='M0 0l23.77 0 0 23.77 -23.77 0 0 -23.77zm5.26 19.2c-0.1,0 -0.18,-0.07 -0.25,-0.19 -0.06,-0.12 -0.1,-0.23 -0.1,-0.33 0,-0.12 0.03,-0.21 0.07,-0.27 0.05,-0.06 0.14,-0.1 0.27,-0.11 0.41,-0.04 0.75,-0.11 1.04,-0.2 0.28,-0.1 0.42,-0.26 0.42,-0.46l0.01 -11.07c0,-0.28 -0.08,-0.48 -0.22,-0.62 -0.14,-0.14 -0.3,-0.22 -0.48,-0.26 -0.19,-0.04 -0.44,-0.08 -0.77,-0.12 -0.15,-0.01 -0.25,-0.04 -0.29,-0.08 -0.05,-0.05 -0.08,-0.15 -0.08,-0.3 0,-0.1 0.03,-0.21 0.1,-0.34 0.06,-0.12 0.15,-0.18 0.25,-0.18l1.93 -0.01c0.49,0 1.13,-0.01 1.89,-0.04 0.11,-0.01 0.37,-0.02 0.79,-0.03 0.41,-0.02 0.86,-0.02 1.34,-0.01 1.68,0 3,0.32 3.95,0.93 0.97,0.62 1.44,1.6 1.44,2.94 0,1.1 -0.29,1.98 -0.89,2.62 -0.59,0.64 -1.44,1.11 -2.55,1.4 0.61,0.06 1.1,0.23 1.48,0.5 0.38,0.27 0.68,0.59 0.89,0.95 0.21,0.37 0.44,0.87 0.69,1.49 0.17,0.41 0.31,0.73 0.43,0.97 0.1,0.24 0.23,0.48 0.38,0.71 0.21,0.41 0.45,0.7 0.71,0.88 0.25,0.19 0.52,0.29 0.81,0.31 0.14,0.02 0.24,0.06 0.29,0.12 0.05,0.06 0.08,0.17 0.08,0.32 0,0.1 -0.03,0.2 -0.1,0.31 -0.06,0.11 -0.15,0.17 -0.25,0.17l-2.99 0c-0.29,0 -0.53,-0.12 -0.75,-0.36 -0.21,-0.24 -0.39,-0.54 -0.54,-0.9 -0.15,-0.36 -0.33,-0.86 -0.54,-1.48 -0.28,-0.79 -0.52,-1.42 -0.73,-1.91 -0.22,-0.49 -0.5,-0.9 -0.86,-1.24 -0.35,-0.34 -0.79,-0.51 -1.3,-0.51l-1.62 0 0 4.5c0,0.28 0.09,0.48 0.26,0.62 0.18,0.13 0.38,0.22 0.61,0.27 0.24,0.04 0.53,0.08 0.88,0.11 0.15,0.01 0.25,0.04 0.3,0.08 0.05,0.05 0.07,0.15 0.07,0.3 0,0.1 -0.03,0.21 -0.09,0.33 -0.07,0.12 -0.15,0.19 -0.26,0.19l-5.72 0zm5.6 -7.28c0.94,0 1.69,-0.24 2.24,-0.72 0.56,-0.48 0.83,-1.29 0.83,-2.43 0,-1.14 -0.28,-1.95 -0.84,-2.46 -0.57,-0.5 -1.37,-0.75 -2.4,-0.75l-1.47 0 0 6.36 1.64 0z'></path></g>
        </symbol>
        <symbol id='icon__search' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'></path><path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'></path></symbol>
        <symbol id='icon__notifications' viewBox='0 0 24 24'><path fill='none' d='M0 0h24v24H0V0z'></path><path d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z'></path></symbol>
        <symbol id='twitter' viewBox='0 0 18 18'><path d='M16.5,4.3c-0.6,0.2-1.1,0.4-1.8,0.5c0.6-0.4,1.1-1,1.4-1.7c-0.6,0.4-1.3,0.6-2,0.8c-0.6-0.6-1.4-1-2.2-1 c-1.7,0-3.1,1.4-3.1,3.1c0,0.2,0,0.5,0.1,0.7C6.3,6.5,4.1,5.3,2.5,3.4C2.3,3.9,2.1,4.4,2.1,5c0,1.1,0.5,2,1.4,2.6 c-0.5,0-1-0.2-1.4-0.4c0,0,0,0,0,0c0,1.5,1.1,2.8,2.5,3.1c-0.3,0.1-0.5,0.1-0.8,0.1c-0.2,0-0.4,0-0.6-0.1c0.4,1.2,1.5,2.1,2.9,2.2 c-1.1,0.8-2.4,1.3-3.8,1.3c-0.2,0-0.5,0-0.7,0c1.4,0.9,3,1.4,4.7,1.4c5.7,0,8.8-4.7,8.8-8.9c0-0.1,0-0.3,0-0.4 C15.6,5.5,16.1,4.9,16.5,4.3'></path></symbol>
        <symbol id='facebook' viewBox='0 0 18 18'><path d='M15.7,1.5H2.3c-0.5,0-0.8,0.4-0.8,0.8v13.3c0,0.5,0.4,0.8,0.8,0.8h7.2v-5.8h-2V8.4h2V6.8c0-1.9,1.2-3,2.9-3 c0.8,0,1.5,0.1,1.7,0.1v2l-1.2,0c-0.9,0-1.1,0.4-1.1,1.1v1.4h2.2l-0.3,2.3h-1.9v5.8h3.8c0.5,0,0.8-0.4,0.8-0.8V2.3 C16.5,1.9,16.1,1.5,15.7,1.5z'></path></symbol>
        <symbol id='whatsapp' viewBox='0 0 24 24'><path d='M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z'></path></symbol>
    </svg>
    <div aria-hidden='true' class='launch'><svg aria-label='Rizky Saskia Putra' focusable='false' height='36' role='img' width='36' viewBox='0 0 24 24'><use xlink:href='#logo'></use></svg></div>
    <div aria-hidden='true' aria-valuemin='0' aria-valuemax='100' class='progress' role='progressbar'></div>
    <div aria-hidden='true' class='ui__mask'></div>
    <div aria-hidden='true' class='ui__bg'></div>
    <header class='header'>
        <div class='header__column'>
            <div class='header__column_start'>
                <a aria-label='Homepage' class='header__brand' href='/' rel='noopener' title='Rizky Saskia Putra'>
                    <div class='header__brand_logo'>
                        <svg aria-label='Rizky Saskia Putra' focusable='false' height='36' role='img' width='36' viewBox='0 0 24 24'><use xlink:href='#logo'></use></svg>
                    </div>
                    <strong class='header__brand_title'>Rizky Saskia Putra</strong>
                </a>
            </div>
            <div class='header__column_center'>
                <nav aria-label='Primary' class='header__nav'>
                    <ul class='header__nav_list'>
                        <li class='header__nav_item'><a class='header__nav_link' href='/'>Design</a></li>
                        <li class='header__nav_item'><a class='header__nav_link' href='/'>Develop</a></li>
                        <li class='header__nav_item'><a class='header__nav_link' href='/'>Research</a></li>
                        <li class='header__nav_item'><a class='header__nav_link' href='/'>Resources</a></li>
                    </ul>
                </nav>
                <form aria-label='Site Search' action='?' aria-hidden='true' class='header__search' method='get' role='search'>
                    <label class='header__search_icon icon__before' data-icon='search' for='site-search'></label>
                    <input aria-hidden='true' name='search' type='hidden' value='google'/>
                    <input aria-label='Search' class='header__search_input' id='site-search' name='q' placeholder='Search' spellcheck='false' type='search'/>
                </form>
            </div>
            <div class='header__column_end'>
                <button aria-label='Search action' class='btn__action tap__search' type='button'>
                    <svg focusable='false' height='24' width='24' viewBox='0 0 24 24'><use xlink:href='#icon__search'></use></svg>
                </button>
                <button aria-label='Subscribe action' class='btn__action tap__subscribe' type='button'>
                    <svg focusable='false' height='24' width='24' viewBox='0 0 24 24'><use xlink:href='#icon__notifications'></use></svg>
                </button>
            </div>
        </div>
    </header>
    <main class='main' id='main' role='main'>
        <article class='article' data-page='article'>
            <header class='article__header'>
                <h1 class='article__title' id='article__title'>CSS Architecture for Modern JavaScript Applications</h1>
                <p class='article__subtitle'>My attempt to modernise some learnings from CSS architecture and apply them in the context of modern JavaScript applications.</p>
                <div class='article__meta'>
                    <div class='article__posted'>
                        <div class='article__posted_image'>
                            <amp-img alt='Margaret Lee' data-src='./img/rsp-me.jpg' height='48' layout='responsive' src='./img/me.jpg' width='48'><noscript><img alt='Margaret Lee' data-src='./img/rsp-me.jpg' height='48' layout='responsive' src='./img/me.jpg' width='48'/></noscript></amp-img>
                        </div>
                        <div class='article__posted_info'>
                            <a class='article__posted_author' href='/'>Mike</a>
                            <time class='article__posted_date' datetime='2019-02-20T05:43:37+0000'>Feb 20, 2019</time>
                        </div>
                    </div>
                    <div class='article__share'>
                        <a aria-label='Share on Twitter' class='article__share_sosmed share' data-href='https://twitter.com/intent/tweet?text=https://rizkysaskiaputra.blogspot.com' href='https://twitter.com/intent/tweet?text=https://rizkysaskiaputra.blogspot.com' rel='noopener nofollow' target='_blank'><svg focusable='false' height='24' width='24' viewBox='0 0 24 24'><use xlink:href='#twitter'></use></svg></a>
                        <a aria-label='Share on Facebook' class='article__share_sosmed share' data-href='https://www.facebook.com/sharer/sharer.php?u=https://rizkysaskiaputra.blogspot.com' href='https://www.facebook.com/sharer/sharer.php?u=https://rizkysaskiaputra.blogspot.com' rel='noopener nofollow' target='_blank'><svg focusable='false' height='24' width='24' viewBox='0 0 24 24'><use xlink:href='#facebook'></use></svg></a>
                        <a aria-label='Share on WhatsApp' class='article__share_sosmed share' data-href='https://wa.me/?text=https://rizkysaskiaputra.blogspot.com' href='https://wa.me/?text=https://rizkysaskiaputra.blogspot.com' rel='noopener nofollow' target='_blank'><svg focusable='false' height='24' width='24' viewBox='0 0 24 24'><use xlink:href='#whatsapp'></use></svg></a>
                    </div>
                </div>
            </header>
            <div aria-labelledby='article__title' class='article__body' role='region'>
                <div class='article__section'>
                    <p>I went to a JavaScript meet-up in Sydney the other night and asked the question "How many people know what CSS Architecture is?". The room was full of different people with varying backgrounds and experience. I thought at minimum around a quarter might know what I was talking about. I was hoping more would. To my surprise, only a handful of people raised their hand.</p>
                    <p>I then asked, "How many people feel the difficulties they have writing CSS at scale have been largely solved by CSS-in-JS?". They weren't stupid, they knew this question was a set-up, nonetheless, many of them obliged me and put their hand up.</p>
                    <p>From the looks in the room, I think many more people felt this way than were willing to admit. At the very least, I think a lot of people believe CSS architecture is no longer relevant in the context of modern JavaScript applications.</p>
                    <p>That perspective was very kindly put to me by Alex Louden on Twitter:</p>
                    <blockquote>
                        <p>"Styled Components etc has removed the need for class names completely for me. Now since styles are included in my presentation components (to me at least) it doesn’t feel like a style architecture issue any more?"</p>
                    </blockquote>
                    <p>This is not to criticise that perspective; it's completely valid! Alex is saying tooling helped make some of the challenges he had dealing with CSS (in particular specificity) easier. The challenge now is dealing with components in an application.</p>
                    <p>I understand this perspective, but find it interesting when people see classnames and components as completely different concerns. Classnames and components are just different ways of composing user interfaces. There are still many challenges involved in making good re-useable and scalable front-end systems, no matter how you put them together.</p>
                    <p>These challenges are not new. In fact, there are some well established solutions in CSS architecture that can be easily transferred to component-based style systems. So why are so few people talking about this? And why are many more people completely unaware of the topic?</p>
                    <p>I believe there is a lot that has contributed to this and it's worth reflecting on how we got here...</p>
                </div>
                <div aria-hidden='true' class='toc'></div>
                <section aria-labelledby='how_we_got_here' class='article__section'>
                    <h2 class='mb copy' id='how_we_got_here'>How we got here</h2>
                    <p>I believe the initial response to CSS-in-JS, from many leaders in the CSS community hasn't helped with understanding and knowledge sharing. I've often heard comments like "People (i.e. younger JavaScript developers) just need to learn CSS better." People who have knowledge about CSS architecture need to do a better job of articulating this experience in a way that is accessible and relevant to new developers. If I'm honest about it, the CSS community has failed at this.</p>
                    <p>But it's not that simple. There are some non-human factors and context we need to consider as well.</p>
                    <p>Before the rise of JavaScript components. The strong and obvious naming conventions of BEM gave developers a system to follow that helped avoid specificity clashes in the "terrifying global scope" of CSS. This alone was reason enough for many people to use BEM. You could get good enough results, without necessarily understanding nuanced reasons behind the conventions.</p>
                    <p>When JavaScript tooling provided a better solution than humans following naming conventions, it opened up UI development to a wider spectrum of developers who previously had less interest in, or reason to focus on, style architecture.</p>
                    <p>Business jumped on the dogpile. They reasoned it would be cheaper to employ developers who could "do everything" and got what they considered to be adequate results by under-investing in UI specialists. Some developers who'd spent half a career perfecting skills in this area felt threatened. Perhaps some were defensive.</p>
                    <p>At the same time, developers working in spaces of growth and opportunity could sometimes be dismissive of skills that were not flavour of the month. There was pride, and hype, and reluctance to admit that new tooling and approaches were not always producing better, more re-useable, front-end architecture.</p>
                    <p>I've been consulting in this space for the last 5 years and I've seen many different systems for building UIs with component-based architecture. The reality is, whilst some aspects of building large scale JavaScript applications are easier, the promise of better, more re-usable UI components hasn't been delivered. Front-end architecture is more varied in approach and the results less re-useable than it was before the rise of JavaScript tooling.</p>
                    <p>Some people might challenge this, but I've seen enough examples to consider it an objective truth. What I have seen is:</p>
                    <div class='mt'>
                        <ul>
                            <li>almost every team has a different approach,</li>
                            <li>90% of components get zero re-use,</li>
                            <li>visual changes are often difficult, slow and expensive,</li>
                            <li>it's harder <strong>than ever</strong> to read and understand styles.</li>
                        </ul>
                    </div>
                    <p>Somewhere in the turbulence, we lost the more nuanced reasons behind the naming conventions.</p>
                    <p>The aim of this was to give context, not blame (it's a little bit of everybody's fault). So let's draw a line, and look at how to apply some lessons from CSS architecture to modern JavaScript applications.</p>
                </section>
                <section aria-labelledby='css_architecture_for_components' class='article__section'>
                    <h2 class='mb copy' id='css_architecture_for_components'>CSS Architecture for Components</h2>
                    <p>First of all, we need to consider what makes sensible abstractions in UI development. OOCSS, SMACSS and BEM all have a common language when they talk about the different parts of a UI component. I can summarise these as:</p>
                    <div class='mt'>
                        <ul>
                            <li>Layout,</li>
                            <li>Design,</li>
                            <li>UI states, and</li>
                            <li>Application logic</li>
                        </ul>
                    </div>
                    <p>If re-use or long-term maintainability is important, keeping these concerns separate is beneficial. Yet, this is not typically how teams approach the design of a component library.</p>
                    <p>Components can do many things, they might fetch data, they might render HTML, they might call functions to execute business logic and manage application state. Sometimes a single component does all these things. There is usually little distinction around what the responsibility of a component should be. People draw boxes around the visual boundaries of a design and then mix this with application logic. That's how most components are built. We can do better than that.</p>
                    <p>BEM gave semantic meaning to classnames and one of the biggest unseen values in this was we could immediately transfer our intentions to other developers across teams and even projects. If you know BEM you can look at a classname, e.g. <code>button--state-success</code> and immediately recognise this as a modifier for a button class.</p>
                    <p>This kind of semantic meaning is sorely needed for components.</p>
                    <p>With that in mind, let's look at different parts of a UI component, identified in CSS architecture methodologies and redefine them in terms of component architecture.</p>
                </section>
                <section aria-labelledby='layout_components' class='article__section'>
                    <h2 class='mb copy' id='layout_components'>Layout components</h2>
                    <p>Find a way to distinguish layout components in your application. It might be a comment in the file, a naming convention or the organisation of components in folders... it doesn't matter. What matters is we need a way to convey our intentions quickly to other developers.</p>
                    <p>When we have common understanding of what a layout component is we can enforce expectations in code-reviews or linting.</p>
                    <p>Layout components:</p>
                    <div class='mt'>
                        <ul>
                            <li>own responsibility for layout and nothing more</li>
                            <li>should never apply any presentational styles</li>
                            <li>should not contain any application logic</li>
                            <li>own responsibility for the layout of child items.</li>
                        </ul>
                    </div>
                    <p>That last point might be a little confusing at first. Why children and not themselves?</p>
                    <p>In modern CSS there are two parts that contribute to layout:</p>
                    <div class='mt'>
                        <ul>
                            <li>A parent item, which sets the display mode</li>
                            <li>A child item, which participates in the parent items display mode.</li>
                        </ul>
                    </div>
                    <p>In other words, we have a <code>grid-container</code> and <code>grid-items</code>, or a <code>flex-container</code> and <code>flex-items</code>. There is always a parent/child relationship.</p>
                    <p>To get the intended layout, we need the parent item and the child item to work together. Updating one of them independently from the other, will result in a broken layout. We have a word for this, it's called a dependency.</p>
                    <p>Despite this dependency, we continue to make these separate components with no direct link. We simply hope that people put them together in the right way and don't change them. We call that an unmanaged dependency.</p>
                    <p>The solution is to co-locate the layout concerns with the parent item. There are a number of ways this can happen...</p>
                </section>
                <section aria-labelledby='use_a_selector' class='article__section'>
                    <h2 class='mb copy' id='use_a_selector'>Use A * Selector</h2>
                    <p>Use the cascade to your advantage and apply a <code>*</code> selector to target all immediate children of a layout component.</p>
                    <p>For example:</p>
                    <pre class='notranslate'><code><span class="pun">.</span><span class="pln">layout </span><span class="pun">{</span><span class="kwd">
  display</span><span class="pun">:</span><span class="pln"> flex</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">layout </span><span class="pun">></span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">
  flex</span><span class="kwd">-</span><span class="kwd">basis</span><span class="pun">:</span><span class="pln"> </span><span class="lit">50</span><span class="pun">%;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
                    <p>This works, even with CSS-in-JS and you might be interested to know the * selector doesn’t increase specificity, so it’s easy to override with classic CSS, should you need.</p>
                    <p>This might seem simple, but it works in most cases.</p>
                </section>
                <section aria-labelledby='render_mark_up_that_wraps_child_items' class='article__section'>
                    <h2 class='mb copy' id='render_mark_up_that_wraps_child_items'>Render mark-up that wraps child items</h2>
                    <p>Another option is to make the layout component responsible for rendering mark-up that wraps child items.</p>
                    <p>This allows us to more directly control both sides of the parent/child relationship and is useful for ensuring semantic and accessible mark-up.</p>
                    <pre class='notranslate'><code><span class="kwd">const</span><span class="pln"> </span><span class="typ">Layout</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">items</span><span class="pun">})</span><span class="pln"> </span><span class="pun">-></span><span class="pln"> </span><span class="pun">(</span><span class="pln">
  </span><span class="pun"><</span><span class="pln">ul classname</span><span class="pun">={</span><span class="pln">parentStyles</span><span class="pun">}></span><span class="pln">
    </span><span class="pun">{</span><span class="pln">items</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">item  </span><span class="pun">=></span><span class="pln"> </span><span class="pun">(</span><span class="pln">
      </span><span class="pun"><</span><span class="pln">li classname</span><span class="pun">={</span><span class="pln">childItem</span><span class="pun">}>{</span><span class="pln">item</span><span class="pun">}</</span><span class="pln">li</span><span class="pun">></span><span class="pln">
    </span><span class="pun">))}</span><span class="pln">
  </span><span class="pun"></</span><span class="pln">ul</span><span class="pun">></span><span class="pln">
</span><span class="pun">)</span></code></pre>
                    <p>In the example above I'm ensuring the children of a <code>ul</code> will always be an <code>li</code>. At the same time I'm applying styles for the layout to both the parent and child items. These are managed somewhere in the layout component.</p>
                </section>
                <section aria-labelledby='export_styles_to_be_used_by_child_items' class='article__section'>
                    <h2 class='mb copy' id='export_styles_to_be_used_by_child_items'>Export styles to be used by child-items</h2>
                    <p>The biggest downside of rendering mark-up that wraps child items is you need to pass a list of items that get rendered into specific slots. That's ok for a simple list, but not ideal for more complicated layouts. As a final escape hatch for complicated components, you can export styles from the parent to be used by a child item.</p>
                    <p>This allows us to co-locate layout concerns for a particular component.</p>
                    <pre class='notranslate'><code><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> sectionHeader </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">"./Page"</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> </span><span class="typ">Heading</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun"><</span><span class="pln">h1 classname</span><span class="pun">={</span><span class="pln">sectionHeader</span><span class="pun">}></span><span class="pln">A </span><span class="typ">Heading</span><span class="pun"></</span><span class="pln">h1</span><span class="pun">>;</span></code></pre>
                    <p>In the example above <code>Heading</code> still needs to be a child of <code>Page</code> but the dependency between these components is no longer hidden.</p>
                    <p>By passing just the layout styles between components (not presentation) we're being explicit about what the dependency is. The <code>Heading</code> component is still responsible for any presentational styles applied to the <code>h1</code>.</p>
                </section>
                <section aria-labelledby='presentational_components' class='article__section'>
                    <h2 class='mb copy' id='presentational_components'>Presentational components</h2>
                    <p>Once again we need a way to convey intentions and set expectations about what aspects of UI development presentational components are responsible for. It should be immediately apparent that a component is a presentational component.</p>
                    <p>Presentational components:</p>
                    <div class='mt'>
                        <ul>
                            <li>deal with visual design,</li>
                            <li>contain no application logic,</li>
                            <li>set no <code>display</code> or positioning properties,</li>
                            <li>are (mostly) just decorated HTML elements,</li>
                            <li>should be size agnostic.</li>
                        </ul>
                    </div>
                    <p>Once again, the last point is the least intuitive. Size agnostic means presentational components should fill the space available. Trust in the layout components to set the constraints.</p>
                    <p>In practical terms this means most UI components have no <code>display</code>, <code>width</code>, <code>height</code> or <code>margin</code> properties.</p>
                    <p>This is sometimes hard to achieve. Working on presentational components is going to reveal problems or oversights in the layout (or even missing layout components). It feels easier to quickly add a margin to 'fix' the presentational component, but by keeping the responsibility for layout with the parent item, presentational components can be re-used in any part of the application.</p>
                    <p>By adding CSS to presentational components to 'fix' layout issues, we are adding hidden dependencies between components. For long term maintainability, it's far better to fix these problems at the layout level.</p>
                    <p>I know this is not always simple, so I'm going to give you an escape hatch. However, consider this the <code>!important</code> of CSS-in-JS. Use it when you absolutely must, and use it right. For certain types of components (usually <code>inline-block</code> elements where content is dependent on dynamic data and there is no obvious parent layout component) it sometimes makes sense to add a utility class, or a prop to set a single CSS property. If possible, these should still remain separate from the presentational component and be imported from a utility file. I suggest naming this <code>liabilities.js</code> or <code>debt.js</code>.</p>
                    <p>Always try to avoid hard coding width and height in presentational components.</p>
                </section>
                <section aria-labelledby='ui_states' class='article__section'>
                    <h2 class='mb copy' id='ui_states'>UI states</h2>
                    <p>Both layout and presentational components have different types of UI state. UI state is different from application state, but the two are often conflated in modern web applications.</p>
                    <p>From a UI development perspective, the state of a component refers to different display or layout variations that might occur when a user interacts with it.</p>
                    <p>As a UI developer knowing the number variations and what styles are applied in each case is not only critical, it's the job description. So why has this has become so hard to know in modern JavaScript applications?</p>
                    <p>When props are passed to a function that resolves styles, the number of variations can be hard or impossible to verify. This is an example from a real-word application I worked on:</p>
                    <pre class='notranslate'><code><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> theme </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">"theme.js"</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> styles </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln"> selectedItems</span><span class="pun">,</span><span class="pln"> activeItems</span><span class="pun">,</span><span class="pln"> id </span><span class="pun">})</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    backgroundColor</span><span class="pun">:</span><span class="pln"> selectedItems</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">?</span><span class="pln"> activeItems</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">?</span><span class="pln"> theme</span><span class="pun">.</span><span class="pln">color
        </span><span class="pun">:</span><span class="pln"> theme</span><span class="pun">.</span><span class="pln">colorAlt
      </span><span class="pun">:</span><span class="pln"> activeItems</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">?</span><span class="pln"> theme</span><span class="pun">.</span><span class="pln">color
      </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
    </span><span class="str">":hover"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      border</span><span class="pun">:</span><span class="pln"> </span><span class="pun">`</span><span class="pln">solid </span><span class="lit">1px</span><span class="pln"> $</span><span class="pun">{</span><span class="pln">theme</span><span class="pun">.</span><span class="pln">colorAlt</span><span class="pun">}`</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">};</span></code></pre>
                    <p>These styles are so difficult to reason about because you have to consider how the application state (props) effects each individual CSS property.</p>
                    <p>Not only does this make it hard to read, it makes it difficult to test. If the props passed to a style function don’t represent a finite set of UI states, how do we know the current set of resolved values is something intended in the design?</p>
                    <p>Once again CSS architecture taught us some things about how to manage UI state. SMACSS in particular talked about state and identified three different types of UI state:</p>
                    <div class='mt'>
                        <ul>
                            <li>Modifier states</li>
                            <li>Behavioural states</li>
                            <li>Pseudo states</li>
                        </ul>
                    </div>
                    <p>I'm paraphrasing, because SMACSS was not thinking about components, so let's revise some of these ideas for modern front-end architecture.</p>
                    <h3 class='mb copy' id='modifier_states'>Modifier states</h3>
                    <p>Modifier states are top-level variations in design. They are not necessarily dependent on application state and may be applied as a stylistic choice.</p>
                    <p>Examples include size variations, primary and secondary buttons, or the position of an image within a layout component.</p>
                    <p>Modifier states can be extended with behavioural states.</p>
                    <h3 class='mb copy' id='behavioural_states'>Behavioural states</h3>
                    <p>Behavioural states are dependent on application logic. They communicate something about the state of a component to the user. Examples might include success, failure and loading indicators, or the current item in a navigation menu.</p>
                    <h3 class='mb copy' id='pseudo_states'>Pseudo states</h3>
                    <p>Pseudo states are more temporary. They usually map directly to persistent states in the browser, rather than application logic. Typical examples include <code>hover</code>, <code>focus</code> and <code>active</code> but this might also include <code>disabled</code> or <code>selected</code>.</p>
                </section>
                <section aria-labelledby='ui_states_are_finite' class='article__section'>
                    <h2 class='mb copy' id='ui_states_are_finite'>UI states are finite</h2>
                    <p>The solution to verifying UI states is to resolve styles down to a set of finite states that can be easily understood.</p>
                    <p>To ensure this, I start by mapping out UI states into a table:</p>
                    <div class='table'>
                        <table>
                            <thead>
                                <tr><th id='modifier__states'>Modifier state</th><th id='behavioural__states'>Behavioural state</th><th id='pseudo__states'>Pseudo state</th></tr>
                            </thead>
                            <tbody>
                                <tr><td headers='modifier__states'>Large</td><td headers='behavioural__states'><strong>Loading</strong></td><td headers='pseudo__states'>Hover</td></tr>
                                <tr><td headers='modifier__states'><strong>Medium</strong></td><td headers='behavioural__states'>Success</td><td headers='pseudo__states'><strong>Focus</strong></td></tr>
                                <tr><td headers='modifier__states'>Small</td><td headers='behavioural__states'>Error</td><td headers='pseudo__states'>Disabled</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <p>Next consider how these states combine. Typically you only have one modifier and one behavioural state active at any one time.</p>
                    <p>You can visualise this as a tree:</p>
                    <p>If you find it's possible to have two behavioural states active at the same time, split them into different categories.</p>
                    <div class='table'>
                        <table>
                            <thead>
                                <tr><th id='mod_state'>Modifier state</th><th id='net_state'>Network state</th><th id='tod_state'>Todo state</th><th id='pse_state'>Pseudo state</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td headers='mod_state'>Large</td><td headers='net_state'><strong>Loading</strong></td><td headers='tod_state'>To Do</td><td headers='pse_state'>Hover</td>
                                </tr>
                                <tr><td headers='mod_state'><strong>Medium</strong></td><td headers='net_state'>Success</td><td headers='tod_state'><strong>Doing</strong></td><td headers='pse_state'><strong>Focus</strong></td>
                                </tr>
                                <tr><td headers='mod_state'>Small</td><td headers='net_state'>Error</td><td headers='tod_state'>Done</td><td headers='pse_state'>Disabled</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p><strong>Warning</strong>: If you find you do need this, consider carefully, as it’s often a sign that you have two components pretending to be one.</p>
                    <p>Because state can be additive, (i.e. behavioural states can change depending on the modifier state), to work out the total number of variations, we multiply the possibilities. With 3 types of state and 3 possibilities for each, there are (<code>3 x 3 x 3</code>), 27 possible variations.</p>
                    <p>Obviously not every combination matters. The disabled state might look the same for every type of modifier and maybe the pseudo states are the same for all modifiers. We can eliminate duplicate states:</p>
                    <p>CSS forced us to flatten the state tree and have a single selector for each possible combination of state. Although sometimes tedious, this made us acutely aware of how many variations there were.</p>
                    <p>JavaScript doesn't force us to flatten the state tree in any way. The concept of different types of UI state often lost and at worst the value of individual CSS properties depends on the resolution of business logic and data within the “style sheet”.</p>
                    <p>It doesn’t matter whether you’re composing styles with classnames, template strings or objects in JavaScript. It remains important to have a single representation for each of the possible UI states.</p>
                    <p>My current favoured approach is to resolve application logic outside the style function, then and pass keys for modifier and behavioural state. Where a behavioural state changes depending on the modifier, I use CSS custom properties to set variations that are later applied in the behaviour.</p>
                    <pre class='notranslate'><code><span class="kwd">const</span><span class="pln"> modifiers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  light</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    color</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#777"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"--pressed-color"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#333"</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> behaviours </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  pressed</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    color</span><span class="pun">:</span><span class="pln"> </span><span class="str">"var(--pressed-color, #777)"</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> style </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln"> modifier</span><span class="pun">,</span><span class="pln"> behaviour </span><span class="pun">})</span><span class="pln"> </span><span class="pun">=></span><span class="pln"> </span><span class="pun">({</span><span class="pln">
  fontSize</span><span class="pun">:</span><span class="pln"> </span><span class="str">"1em"</span><span class="pun">,</span><span class="pln"> </span><span class="com">// Default Styles</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">modifiers</span><span class="pun">[</span><span class="pln">modifier</span><span class="pun">],</span><span class="pln"> </span><span class="com">// Apply Modifiers</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">behaviours</span><span class="pun">[</span><span class="pln">behaviour</span><span class="pun">]</span><span class="pln"> </span><span class="com">// Apply Behaviours</span><span class="pln">
</span><span class="pun">});</span></code></pre>
                    <p>This allows me to have additive states with a fairly flat and readable representation of each of the styles applied to each variation of a UI component.</p>
                </section>
                <section aria-labelledby='container_components' class='article__section'>
                    <h2 class='mb copy' id='container_components'>Container components</h2>
                    <p>The final type of component we need to distinguish is a container component. Many people might already have an understanding of what this means, but from a UI perspective, I'm not referring to any particular design pattern.</p>
                    <p>From a UI perspective a container component is simply where the application logic is resolved down to a set of modifiers and behavioural keys that are passed to presentational and layout components.</p>
                    <p>A container component:</p>
                    <div class='mt'>
                        <ul>
                            <li>contains no presentation or layout styles</li>
                            <li>should not render mark-up (except children)</li>
                            <li>can wrap layout and presentational components</li>
                            <li>may fetch data, setup events, refs etc...</li>
                            <li>is where non-reusable code lives.</li>
                        </ul>
                    </div>
                </section>
                <section aria-labelledby='but_its_only_ui' class='article__section'>
                    <h2 class='mb copy' id='but_its_only_ui'>But it's only UI!</h2>
                    <p>As the responsibilities of front-end developers have become more broad, some might consider the conventions outlined here to be not worth following. I've seen teams spend weeks planning the right combination of framework, build tools, workflows and patterns only to give zero consideration to the way they architect UI components. It's often considered the last step in the process and not worthy of the same level of consideration.</p>
                    <p>It's important! I've seen well-planned project fail or go well over budget because the UI architecture was poorly planned and became un-maintainable as the project grew.</p>
                    <p>This disappoints me because the problems are hard and my colleagues and friends who helped establish best practices in CSS are serious engineers, with broad skills, who applied knowledge across disciplines.</p>
                    <p>Many of the ideas in CSS architecture predate CSS itself and have strong foundations in computer science and software architecture. I know developers who can understand complex architectural problems but fail to see the similarities, or worse yet, choose not to apply this knowledge to declarative front-end code.</p>
                    <p>I know you can do it. To help, I've got some questions to ask yourself when planning UI components.</p>
                </section>
                <section aria-labelledby='questions_to_ask' class='article__section'>
                    <h2 class='mb copy' id='questions_to_ask'>Questions to ask when planning UI components</h2>
                    <div>
                        <ul>
                            <li>How many UI states does this component have?</li>
                            <li>Can I easily validate the current UI state?</li>
                            <li>How ergonomic are my styles? (i.e. how quickly can someone else read them)</li>
                            <li>Am I creating sensible UI abstractions? Or am I drawing boxes around the visual design?</li>
                            <li>Am I separating layout form visual design where possible?</li>
                            <li>Am I separating application logic from UI components?</li>
                            <li>Am I communicating my intentions to other developers and giving semantic meaning to components.</li>
                        </ul>
                    </div>
                    <p>Keep practising this and you will build better lasting UIs.</p>
                </section>
            </div>
            <footer class='article__footer'>
                <div class='article__updated'>
                    <span class='article__updated_title'>Last updated:</span>
                    <time class='article__updated_date' datetime='2019-02-20T05:43:37+0000'>Feb 20, 2019</time>
                </div>
                <div class='article__discussion'>
                    <a class='article__discussion_link' href='./comments.html?states=reload'>Join the discussion</a>
                </div>
            </footer>
        </article>
        <div class='nextprev'>
            <div class='nextprev__column'>
                <div class='nextprev__column_start'>
                    <a class='nextprev__link_start nextprev__link' href='./how.html'>
                        <span class='nextprev__article_title'>Previous article</span>
                    </a>
                </div>
                <div class='nextprev__column_end'>
                    <a class='nextprev__link_end nextprev__link' href='./410.html'>
                        <span class='nextprev__article_title'>Next article</span>
                    </a>
                </div>
            </div>
        </div>
    </main>
    <footer class='footer' role='contentinfo'>
        <div class='footer__column'>
            <div class='footer__column_start'>
                <a class='footer__brand' href='/'>Rizky Saskia Putra</a>
                <p class='footer__brand_description'>Think, Find, Make and Repeat.</p>
                <p class='footer__brand_location'>— from Kediri, Indonesia.</p>
            </div>
            <div class='footer__column_end'>
                <nav aria-label='Site' class='footer__nav'>
                    <ul aria-label='Rizky Saskia Putra' class='footer__nav_list'>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>About</a></li>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>Showcase</a></li>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>What's New</a></li>
                    </ul>
                    <ul aria-label='Social' class='footer__nav_list'>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>CodePen</a></li>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>GitHub</a></li>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>Twitter</a></li>
                    </ul>
                    <ul aria-label='Other' class='footer__nav_list'>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>Terms</a></li>
                        <li class='footer__nav_item'><a class='footer__nav_link' href='/'>Privacy</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </footer>
    <script defer src='./js/component.js'></script>
    <script defer src='./js/main.js'></script>
</body>
</html>